{% extends 'sidebarnew.html'%}
{%load static%}
{%block content%}

<style>


#box2{
    padding: 1% 5% 1% 5%;
    background-color: white;
    border-radius: 20px;
    float: left;
    margin-top: 2%;
    
    margin-right: 9%;
      width: 100%;
    }

#box2 h5,#box2 img{
float: left;
margin-right: 20px;
}
h5{
font-weight: 400;
margin-top: 10px;
width:150px;

}
h5 span{
font-weight: 400;
margin-top: 10px;
color: #15A7A7;

}
#hiddendiv{
height: auto;
max-width: 750px;
margin-left: auto;
margin-right: auto;

}
#box2 img{
margin-top: 15px;
}

#bigimage{
float: right;
margin-right: 10%;
}
h5{
font-size: 16px;
}
.progress{
width: 200px;
}
.wrapper{
  position: relative;
  height: 80px;
  width: 400px;
  background: #fff;
  border-radius: 5px;
  margin-bottom: 10px;
}
.wrapper span{
  display: flex;
  padding-left: 45px;
  padding-top: 14px;
  font-size: 17px;
  color: black;
  font-weight: 300;


}
.wrapper p{
  position: absolute;
  margin-top: 14px;
  font-size: 12px;

  font-weight: 600;
  border-radius: 50px;
  color: #fff;
  height: 22px;
  width: 27px;
  padding-top: 5px;
  text-align: center;
  background:  #6C63FF;
}
#p{
  left: 15px;
}
.slider{
  display: flex;
  justify-content: center;
  margin-top: 10px;
  position: relative;

}
.slider .range{
  z-index: 1;
  opacity: 0.3;
  -webkit-appearance: none;
  width: 98%;
  cursor: pointer;
}
.range::-webkit-slider-runnable-track{
  width: 100px;
  height: 25px;
  background: #C2F0EB;
  border-radius: 5px;

}
button{
margin-top: -2%;
float: right;
margin-left: 2%;
padding-left: 1%;
padding-right: 3%;
width: 5px;
background-color:transparent;
color: black;
border: none;
font-size: 30px;

}
.Search{
margin-top: 0%;
font-size: 30px;
margin-bottom: 1%;
margin-left: 1%;

width: 120px;
background-color: #6C63FF;
color: white;

}
.range::-webkit-slider-thumb{
  height: 0px;
  width: 0px;
  -webkit-appearance: none;

}
#html-progress{
  position: absolute;
  left: 2px;
  top: 2px;
  width: 90%;
  height: 25px;
  background:  #6C63FF;
  border-radius: 5px;
  transition: 0.5s width;
}
.edit-btn{
  display: flex;
  justify-content: center;
  margin-bottom: 10px;
  margin-left: -10px;
}
.edit-btn img{
  height: 45px;
  width: 45px;
  cursor: pointer;
  padding: 8px;
  border-radius: 50px;
  background: #fff;

}

@media(max-width:61.938em){
  #box2{
    padding: 1% 5% 1% 5%;
    background-color: white;
    border-radius: 20px;
    /* float: left; */
    margin-top: 2%;
    height:300px;
    width: 100%;
    overflow: auto;
    }
     #hiddendiv{
      height: auto;
      max-width: 750px;
      margin-left: auto;
      margin-right: auto;
      /* overflow: auto; */
      
    }
  }



</style>







<div><label id="myprofile" style="margin-left:20px;">PROJECTS</label>
<div id="hiddendiv">


  <div id="box2" class="shadow bg-white">
      <table class="table table-bordered" style="border-color: #1CB1BD;margin-top: 5%;">
          <thead>
            <tr style="background-color:  #a5becf">
              <th style="column-width: 230px">Task Name </th>
              <th style="width: 240px">AssignedTo</th>
              <th>Task Status</th>
              <th>Test status</th>
              <th>Extension</th>
              <th style="width: 200px">Project Details</th>

            </tr>
          </thead>
          <tbody>
          {% for x in emp1%}
          {% for x in emp1 %}

            <tr>
              <td style="width: 230px">{{ x.taskname }}</td>
              <td style="width: 240px"> {{ x.assignedto.name }}</td>

              <td style="width: 180px"><a  style="width: 300px;font-size: 18px"href="" data-toggle="modal" data-target="#myModal4{{ x.id }}" >Task status</a></td>
              <td style="width: 180px"><a  style="width: 300px;font-size: 18px"href="" data-toggle="modal" data-target="#myModal3{{ x.id }}">Tester status</a></td>
            <td style="width: 180px"><a  style="width: 300px;font-size: 18px"href="" data-toggle="modal" data-target="#myModal2{{ x.id }}">Extension status</a></td>

              <td style="width: 200px"><div class="progress" data-toggle="modal" data-target="#myModal1{{ x.id }}" style="height:20px;background-color: #C2F0EB">
          <div class="progress-bar" style="width:{{ x.progress }}%;height:24px;font-size: 16px">{{ x.progress }}%</div>
        </div><br></td>
      </tr>
      {% endfor %}


      <!-- <tr>
        <td style="width: 230px">{{ x.taskname}}</td>
        <td style="width: 240px"> {{ x.assignedto.name  }}</td>
         <td style="width: 180px"><a  style="width: 300px;font-size: 18px"href="" data-toggle="modal" data-target="#myModal4{{ x.id }}" onclick="setselected({{ x.id }})">Task status</a></td>

        <td style="width: 180px"><a  style="width: 300px;font-size: 18px"href="" data-toggle="modal" data-target="#myModal3{{ x.id }}">Tester status</a></td>

        <td style="width: 200px"><div class="progress" data-toggle="modal" data-target="#myModal2{{ x.id }}" style="height:20px;background-color: #C2F0EB">
    {% if x.subtask_id %}
            <div class="progress-bar" style="width:{{ x.subtask.progress }}%;height:24px;font-size: 16px">{{ x.subtask.progress }}%</div>
  {% else %}
              <div class="progress-bar" style="width:{{ x.task.progress }}%;height:24px;font-size: 16px">{{ x.task.progress }}%</div>
{% endif %}
        </div><br></td>

</tr>
{% endfor %} -->
    </tbody>
  </table>
  <!------------------------myModal4---------------------------->
  {% for key, value in rep.items %}
    <div class="modal fade" id="myModal4{{ key }}">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <div class="col">  <h3 style="font-size: 24px;color: #53d4af">Daily Work Report</h3>
    </div>

         <button type="button" class="close" data-dismiss="modal" style="height: 2px;margin-right: -11px; ">&times;</button>
        </div>
        <div class="modal-body" style=" height: 80vh;
    overflow-y: auto;">

    <!--<div class="col">
      <hr style="height:0.5px;border-width:0;color:gray;background-color:gray;width: 100%;margin-left: 0%;margin-top: 0%">
   </div>-->


 <table class="table table-bordered" style="border-color: #1CB1BD">

    <thead>
      <tr style="background-color:  #a5becf">
        <th style="width: 120px">Date</th>
        <th style="width: 120px">Reported by</th>        
        
        <th style="width: 230px">Task</th>
          <th style="width: 230px"> SubTask</th>
        <th style="width: 280px">Work done</th>
          <th style="width: 200px">Files</th>
      </tr>
    </thead>
    <tbody>
    {% for f in value %}
      <tr>
        <td style="width: 120px">{{ f.date}}</td>
        <td style="width: 280px">{{ f.reportedby.name}}</td>
        
          <td style="width: 230px">{{ f.task.taskname }}<br>Deadline:{{ f.task.duedate }}</td>
      <td style="width:230px">{{ f.subtask.subtaskname }}<br>Deadline:{{ f.subtask.duedate }}</td>
            <td style="width: 280px">{{ f.workdone}}</td>

        <td>
        {% for ss in f.json_attachfile %}
            <a href="{{ss}}" style="font-size: medium">Download</a>
            {% endfor %}</td>
      </tr>
    {% endfor %}

        </tbody>
      </table>
        </div>

        <!-- Modal footer
       <button type="button" class="btn Search" style="margin-left: 640px">Ok</button>-->

      </div>
    </div>
  </div>
{% endfor %}
<!-----------------mymodal 2----------------->
  {% for key, value in extension.items %}
    <div class="modal " id="myModal2{{ key }}" style="height: 500px">
    <div class="modal-dialog modal-lg" >
      <div class="modal-content">
        <div class="modal-header">
          <div class="col">  <h3 style="font-size: 24px;color: #53d4af">Extension Details</h3>
    </div>

         <button type="button" class="close" data-dismiss="modal" style="height: 2px;margin-right: -11px; ">&times;</button>
        </div>
        <div class="modal-body" style=" height: 80vh;
    overflow-y: auto;">

       {% for dt in value %}
  <div class="col">
    <h5 style="font-size: 17px;width: 400px"><span>Requested Extension days  &nbsp &nbsp</span>{{ dt.reqdays }}</h5>
    </div><br>
   <br>
  <div class="col">
    <h5 style="font-size: 17px;"><span>Reason</span></h5>
  </div><br><br>
  <div class="col">
    <h5 style="font-size: 17px;color: black;margin-left: 10px;width: 500px">{{ dt.reason }}</h5>
  </div><br><br>
   <div class="col">
    <h5 style="font-size: 17px;"><span>Status</span></h5>
  </div><br><br>
    <div class="col">
    <h5 style="font-size: 17px;color: black;margin-left: 10px;width: 500px">{{ dt.status }}</h5>
  </div><br><br>

{% endfor %}
        </div>

        <!-- Modal footer
       <button type="button" class="btn Search" style="margin-left: 640px">Ok</button>-->

      </div>
    </div>
  </div>
{% endfor %}
<!-----------------mymodal 3----------------->
  {% for key, value in testm.items %}
    <div class="modal fade" id="myModal3{{ key }}">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <div class="col">  <h3 style="font-size: 24px;color: #53d4af">Tester Report</h3>
    </div>

         <button type="button" class="close" data-dismiss="modal" style="height: 2px;margin-right: -11px; ">&times;</button>
        </div>
        <div class="modal-body" style=" height: 80vh;
    overflow-y: auto;">

    <!--<div class="col">
      <hr style="height:0.5px;border-width:0;color:gray;background-color:gray;width: 100%;margin-left: 0%;margin-top: 0%">
   </div>-->


          <table class="table table-bordered" style="border-color: #1CB1BD">

    <thead>
      <tr style="background-color:  #a5becf">
        <th style="width: 160px">Date</th>
        <th style="width: 150px">Reported by</th>
        <th style="width: 230px">Task</th>
          <th style="width: 230px"> SubTask</th>
          <th style="width: 280px">Description</th>
          <th style="width: 150px">Status</th>
          
            <th style="width: 140px">Delay</th>
          <th style="width: 200px">Files</th>
           <th style="width: 160px">TestBy</th>
      </tr>
    </thead>
    <tbody>
    {% for f in value %}
      <tr>
        <td style="width: 160px">{{ f.date }}</td>
        <td style="width:150px">{{ f.reportid.reportedby.name }}</td>
          <td style="width: 230px">{{ f.reportid.task.taskname }}</td>
      <td style="width:230px">{{ f.reportid.subtask.subtaskname }}</td>
          <td style="width: 280px">{{ f.testerdescri}}</td>
          <td style="width:150px">{{ f.testerstatus }}</td>
          
          <td style="width: 140px">{{ f.date_diff }}
              </td>
           <td>
                  {% for ss in f.json_attachfile %}
            <a href="{{ss}}" style="font-size: medium">Download</a>
            {% endfor %}</td>

      <td style="width: 160px">{{ f.testerid.name }}</td>

      </tr>
    {% endfor %}

        </tbody>
      </table>
        </div>

        <!-- Modal footer
       <button type="button" class="btn Search" style="margin-left: 640px">Ok</button>-->

      </div>
    </div>
  </div>
{% endfor %}
{% for t in emp1 %}
  <div class="modal fade" id="myModal1{{ t.id }}">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <div class="col">  <h3 style="font-size: 24px;color: #53d4af">{{ t.taskname}}</h3>
    </div>

         <button type="button" class="close" data-dismiss="modal" style="height: 2px;margin-right: -11px">&times;</button>
        </div>
        <div class="modal-body">

    <!--<div class="col">
      <hr style="height:0.5px;border-width:0;color:gray;background-color:gray;width: 100%;margin-left: 0%;margin-top: 0%">
   </div>--><br>
            <form action="adminMANMyprojectsubtaskProjectstatus" method="post">
        {% csrf_token %}
           <input type="hidden"  name="team_id" value={{ t.id }}>
      <div class="row">
     <div class="col"><h5 style="width: 100px;margin-left: 20px">Start date</h5></div>
    <div class="col"><h5 style="width: 100px">{{ t.startdate}}</h5></div>
    <div class="col"><h5 style="width: 100px;margin-left: 143px">End date</h5></div>
   <div class="col"> <h5 style="width: 100px">{{ t.duedate}}</h5></div>
  </div><br><br><br>
  <div class="row">
     <div class="col"><h5 style="width: 90px;margin-left: 20px;margin-top: -24%">Assigned to</h5></div>
    <div class="col"><h5 style="width: 160px;margin-left: -13px;margin-top: -20%">{{ t.assignedto.name }} </h5></div>
    <div class="col"><h5 style="width: 50px;margin-left: 85px;margin-top: -20%">Progress</h5></div>
   <div class="col">
     <div class="progress" style="height:20px;background-color: #C2F0EB;margin-top: -18%;width: 180px">
    <div class="progress-bar" style="width:{{ t.progress }}%;height:20px">{{ t.progress }}%</div>

  </div>
</div>
  <br>
  </div><br><br>
  <div class="row">

      <div class="col"><h5 style="width: 110px;margin-left: 10%;margin-top: -20%">Current status</h5></div>
    <div class="col"><h5 style="width: 100px;margin-left: -10%;margin-top: -20%">{{ t.prostatus }} </h5></div>
       <div class="col"><h5 style="width: 140px;margin-right: 0px;margin-top: -10px"></h5></div>
    <div class="col"><input type="hidden" name="progre" style="width: 120px;margin-left: -64px;margin-top: -10px"></div>
               </div><br><br>
     <div class="row">
     <div class="col"> <h5 style="margin-left: 480px;width: 90px;margin-top: 0%"></h5></div>
  <div class="col">
         </div>
     </div>

 </form>
  <div class="row">
               </div>
  </div>
   <div class="col">
      <hr style="height:0.5px;border-width:0;color:gray;background-color:gray;width: 100%;margin-left: 0%;margin-top: 0%">
   </div>
   <div class="col">  <h4 style="margin-left: 10px;color: #53d4af;font-size: 18px">Project description</h4></div>
    <div class="col"> <textarea  rows="6" cols="90" name="descri"  style="margin-left: 2%" >{{ t.taskdescri }}</textarea>
  </div><br><br>
    <div class="col">
      <hr style="height:0.5px;border-width:0;color:gray;background-color:gray;width: 100%;margin-left: 0%;margin-top: -4%">
   </div>
   <div class="col">  <h4 style="margin-left: 3px;color: #53d4af;font-size: 18px">Attached files</h4></div>
   <div class="row">

        {% for ss in t.json_taskattachfile %}
            <a href="{{ss}}" style="margin-left: 5%;font-size: medium">Download</a>
            {% endfor %}
   </div>
    <div class="col">
      <hr style="height:0.5px;border-width:0;color:gray;background-color:gray;width: 100%;margin-left: 0%;margin-bottom:9%">
   </div>
        <!-- Modal footer -->
        </div>
      </div>
    </div>

{% endfor %}

<br><br>

</div>
</div>
</div>




{% endblock %}